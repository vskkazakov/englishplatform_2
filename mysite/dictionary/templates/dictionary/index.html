<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Entertaining English - –°–ª–æ–≤–∞—Ä—å</title>
    <link rel="stylesheet" href="{% load static %}{% static 'dictionary/styles.css' %}?v=2.1">
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <span class="logo-text">Entertaining</span><span class="logo-accent">English</span>
            </div>
            <div class="nav">
                <a href="{% url 'index' %}" class="nav-link">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                <a href="{% url 'dictionary:index' %}" class="nav-link">–°–ª–æ–≤–∞—Ä—å</a>
                <a href="{% url 'tests:index' %}" class="nav-link">–¢–µ—Å—Ç—ã</a>
                <a href="{% url 'act_static:index' %}" class="nav-link">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
                <a href="{% url 'games:index' %}" class="nav-link">–ò–≥—Ä—ã</a>
                {% if user.is_authenticated %}
                    <span class="user-greeting">–ü—Ä–∏–≤–µ—Ç, {{ user.first_name|default:user.username }}!</span>
                    <a href="{% url 'authen:logout' %}" class="btn-login">–í—ã–π—Ç–∏</a>
                {% endif %}
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <section class="hero">
                <div class="hero-content">
                    <h1 class="hero-title">
                        <span class="title-accent">–ú–æ–π –°–ª–æ–≤–∞—Ä—å</span>
                    </h1>
                    <p class="hero-description">
                        –†–∞—Å—à–∏—Ä—è–π—Ç–µ —Å–≤–æ–π —Å–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å –∏ –∏–∑—É—á–∞–π—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
                    </p>
                </div>
            </section>

            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <section class="actions">
                <h2 class="section-title">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                <div class="actions-grid">
                    <a href="{% url 'dictionary:view_words' %}" class="action-card">
                        <div class="action-icon">üìö</div>
                        <h3 class="action-title">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞</h3>
                        <p class="action-description">–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–∏–º —Å–ª–æ–≤–∞—Ä–µ–º</p>
                    </a>
                    
                    <a href="/tests" class="action-card">
                        <div class="action-icon">üéì</div>
                        <h3 class="action-title">–£—á–∏—Ç—å –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞</h3>
                        <p class="action-description">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç—ã</p>
                    </a>
                    
                    <a href="{% url 'dictionary:select_category' %}" class="action-card">
                        <div class="action-icon">‚ûï</div>
                        <h3 class="action-title">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
                        <p class="action-description">–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å–ª–æ–≤ –ø–æ —Ç–µ–º–∞–º</p>
                    </a>
                    
                    <a href="{% url 'dictionary:create_category' %}" class="action-card">
                        <div class="action-icon">üìÅ</div>
                        <h3 class="action-title">–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
                        <p class="action-description">–ù–æ–≤—ã–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã</p>
                    </a>
                </div>
            </section>

            <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–ª–æ–≤–∞ -->
            <section class="recent-words">
                <div class="section-header">
                    <h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞</h2>
                    <a href="{% url 'dictionary:view_words' %}" class="btn-secondary">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ</a>
                </div>
                
                {% if recent_words %}
                    <div class="words-grid">
                        {% for word in recent_words %}
                            <div class="word-card">
                                <div class="word-header">
                                    <h3 class="word-english">{{ word.english_word }}</h3>
                                    <span class="word-status {% if word.is_learned %}learned{% else %}learning{% endif %}">
                                        {% if word.is_learned %}
                                            ‚úÖ –ò–∑—É—á–µ–Ω–æ
                                        {% else %}
                                            üìñ –ò–∑—É—á–∞–µ—Ç—Å—è
                                        {% endif %}
                                    </span>
                                </div>
                                <p class="word-translation">{{ word.russian_translation }}</p>
                                {% if word.category %}
                                    <span class="word-category">{{ word.category }}</span>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="empty-state">
                        <div class="empty-icon">üìù</div>
                        <h3>–£ –≤–∞—Å –µ—â–µ –Ω–µ—Ç —Å–ª–æ–≤ –≤ —Å–ª–æ–≤–∞—Ä–µ</h3>
                        <p>–ù–∞—á–Ω–∏—Ç–µ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ–≤–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</p>
                        <a href="{% url 'dictionary:add_word' %}" class="btn-primary">
                            <span class="btn-icon">‚ú®</span>
                            –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ
                        </a>
                    </div>
                {% endif %}
            </section>

            <!-- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é -->
            {% if words_need_practice > 0 %}
                <section class="call-to-action">
                    <div class="cta-content">
                        <div class="cta-icon">üéØ</div>
                        <div class="cta-text">
                            <h3>–í—Ä–µ–º—è –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏!</h3>
                            <p>–£ –≤–∞—Å {{ words_need_practice }} —Å–ª–æ–≤{{ words_need_practice|pluralize:"–æ,–∞,–æ–≤" }}, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è.</p>
                        </div>
                        <a href="/tests" class="btn-primary">
                            <span class="btn-icon">üöÄ</span>
                            –ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ
                        </a>
                    </div>
                </section>
            {% endif %}

            <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
            <section class="statistics-link">
                <div class="stats-card">
                    <div class="stats-icon">üìä</div>
                    <div class="stats-content">
                        <h3>–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <p>–ê–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–∑—É—á–µ–Ω–∏–∏</p>
                        <a href="/act_static" class="btn-primary">
                            <span class="btn-icon">üìà</span>
                            –û—Ç–∫—Ä—ã—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                        </a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Entertaining English</h4>
                    <p>–ò–∑—É—á–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Å—Ç–∞–ª–æ –ø—Ä–æ—â–µ</p>
                </div>
                <div class="footer-section">
                    <h4>–°–ª–æ–≤–∞—Ä—å</h4>
                    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–Ω—ã–º –∑–∞–ø–∞—Å–æ–º</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
    {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
                <div class="message {{ message.tags }}">
                    <div class="message-icon">
                        {% if message.tags == 'success' %}
                            ‚úÖ
                        {% elif message.tags == 'error' %}
                            ‚ùå
                        {% elif message.tags == 'warning' %}
                            ‚ö†Ô∏è
                        {% else %}
                            ‚ÑπÔ∏è
                        {% endif %}
                    </div>
                    <div class="message-content">
                        <div class="message-title">
                            {% if message.tags == 'success' %}
                                –£—Å–ø–µ—Ö
                            {% elif message.tags == 'error' %}
                                –û—à–∏–±–∫–∞
                            {% elif message.tags == 'warning' %}
                                –í–Ω–∏–º–∞–Ω–∏–µ
                            {% else %}
                                –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                            {% endif %}
                        </div>
                        <div class="message-text">{{ message }}</div>
                    </div>
                    <button class="message-close" onclick="this.parentElement.remove()">√ó</button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <script>
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
        setTimeout(function() {
            const messages = document.querySelectorAll('.message');
            messages.forEach(function(message) {
                message.style.opacity = '0';
                setTimeout(() => message.remove(), 300);
            });
        }, 5000);
    </script>
</body>
</html>
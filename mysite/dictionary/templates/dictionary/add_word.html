<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Entertaining English - –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–≤–æ</title>
    <link rel="stylesheet" href="{% load static %}{% static 'dictionary/styles.css' %}?v=2.2">
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <span class="logo-text">Entertaining</span><span class="logo-accent">English</span>
            </div>
            <div class="nav">
                <a href="{% url 'index' %}" class="nav-link">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                <a href="{% url 'dictionary:index' %}" class="nav-link">–°–ª–æ–≤–∞—Ä—å</a>
                <a href="{% url 'tests:index' %}" class="nav-link">–¢–µ—Å—Ç—ã</a>
                <a href="{% url 'act_static:index' %}" class="nav-link">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
                <a href="{% url 'games:index' %}" class="nav-link">–ò–≥—Ä—ã</a>
                {% if user.is_authenticated %}
                    <span class="user-greeting">–ü—Ä–∏–≤–µ—Ç, {{ user.first_name|default:user.username }}!</span>
                    <a href="{% url 'authen:logout' %}" class="btn-login">–í—ã–π—Ç–∏</a>
                {% endif %}
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <section class="hero">
                <div class="hero-content">
                    <h1 class="hero-title">
                        <span class="title-accent">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ</span>
                    </h1>
                    <p class="hero-description">
                        –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–π –≤–≤–æ–¥ –Ω–æ–≤–æ–≥–æ —Å–ª–æ–≤–∞ –≤ –≤–∞—à —Å–ª–æ–≤–∞—Ä—å
                    </p>
                </div>
            </section>

            <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
            <section class="add-word-form">
                <div class="form-container">
                    <form method="post" autocomplete="off" id="wordForm">
                        {% csrf_token %}

                        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
                        <div class="form-section">
                            <h3 class="section-title-small">üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
                            <div class="form-group">
                                <label for="{{ form.category.id_for_label }}" class="form-label">
                                    {{ form.category.label }}
                                </label>
                                {{ form.category }}
                                {% if form.category.errors %}
                                    <div class="error-message">
                                        {{ form.category.errors.0 }}
                                    </div>
                                {% endif %}
                                <div class="form-help">
                                    –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é, —á—Ç–æ–±—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–ª–æ–≤–∞ –ø–æ —Ç–µ–º–∞–º. –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –±—É–¥–µ—Ç —É–¥–æ–±–Ω–æ —É—á–∏—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å!
                                </div>
                            </div>
                        </div>

                        <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è -->
                        <div class="form-section">
                            <h3 class="section-title-small">‚ú® –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="{{ form.english_word.id_for_label }}" class="form-label">
                                        üá¨üáß {{ form.english_word.label }} *
                                    </label>
                                    {{ form.english_word }}
                                    {% if form.english_word.errors %}
                                        <div class="error-message">
                                            {{ form.english_word.errors.0 }}
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="form-group">
                                    <label for="{{ form.russian_translation.id_for_label }}" class="form-label">
                                        üá∑üá∫ {{ form.russian_translation.label }} *
                                    </label>
                                    {{ form.russian_translation }}
                                    {% if form.russian_translation.errors %}
                                        <div class="error-message">
                                            {{ form.russian_translation.errors.0 }}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">
                                <span class="btn-icon">üíæ</span>
                                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ–≤–æ
                            </button>
                            <button type="reset" class="btn-secondary">
                                <span class="btn-icon">üîÑ</span>
                                –û—á–∏—Å—Ç–∏—Ç—å
                            </button>
                            <a href="{% url 'dictionary:index' %}" class="btn-secondary">
                                <span class="btn-icon">‚¨ÖÔ∏è</span>
                                –ù–∞–∑–∞–¥
                            </a>
                        </div>

                        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è -->
                        <div class="form-section optional-section">
                            <div class="optional-header" onclick="toggleOptional()">
                                <h3 class="section-title-small">‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                                <span class="toggle-icon">üìñ</span>
                                <div class="toggle-text">–ó–∞–ø–æ–ª–Ω—è–π—Ç–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –≤—Ä–µ–º—è</div>
                            </div>
                            
                            <div class="optional-content" id="optionalContent">
                                <!-- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è -->
                                <div class="form-group">
                                    <label for="{{ form.transcription.id_for_label }}" class="form-label">
                                        üîä {{ form.transcription.label }}
                                    </label>
                                    {{ form.transcription }}
                                    {% if form.transcription.errors %}
                                        <div class="error-message">
                                            {{ form.transcription.errors.0 }}
                                        </div>
                                    {% endif %}
                                    <div class="form-help">
                                        –§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—å —Å–ª–æ–≤–æ
                                    </div>
                                </div>

                                <!-- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ -->
                                <div class="form-group">
                                    <label for="{{ form.definition.id_for_label }}" class="form-label">
                                        üìö {{ form.definition.label }}
                                    </label>
                                    {{ form.definition }}
                                    {% if form.definition.errors %}
                                        <div class="error-message">
                                            {{ form.definition.errors.0 }}
                                        </div>
                                    {% endif %}
                                    <div class="form-help">
                                        –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
                                    </div>
                                </div>

                                <!-- –ü—Ä–∏–º–µ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è -->
                                <div class="form-group">
                                    <label for="{{ form.example_sentence.id_for_label }}" class="form-label">
                                        üí¨ {{ form.example_sentence.label }}
                                    </label>
                                    {{ form.example_sentence }}
                                    {% if form.example_sentence.errors %}
                                        <div class="error-message">
                                            {{ form.example_sentence.errors.0 }}
                                        </div>
                                    {% endif %}
                                    <div class="form-help">
                                        –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ–≤–∞ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏
                                    </div>
                                </div>

                                <!-- –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
                                <div class="form-group">
                                    <label for="{{ form.difficulty_level.id_for_label }}" class="form-label">
                                        üìä {{ form.difficulty_level.label }}
                                    </label>
                                    {{ form.difficulty_level }}
                                    {% if form.difficulty_level.errors %}
                                        <div class="error-message">
                                            {{ form.difficulty_level.errors.0 }}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </section>

            <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
            {% if messages %}
            <section class="messages-section">
                <div class="messages-container">
                    {% for message in messages %}
                        <div class="message {{ message.tags }}">
                            <div class="message-icon">
                                {% if message.tags == 'success' %}
                                    ‚úÖ
                                {% elif message.tags == 'error' %}
                                    ‚ùå
                                {% elif message.tags == 'warning' %}
                                    ‚ö†Ô∏è
                                {% else %}
                                    ‚ÑπÔ∏è
                                {% endif %}
                            </div>
                            <div class="message-content">
                                <div class="message-title">
                                    {% if message.tags == 'success' %}
                                        –£—Å–ø–µ—Ö!
                                    {% elif message.tags == 'error' %}
                                        –û—à–∏–±–∫–∞!
                                    {% elif message.tags == 'warning' %}
                                        –í–Ω–∏–º–∞–Ω–∏–µ!
                                    {% else %}
                                        –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
                                    {% endif %}
                                </div>
                                <div class="message-text">{{ message }}</div>
                            </div>
                            <button class="message-close" onclick="this.parentElement.remove()">√ó</button>
                        </div>
                    {% endfor %}
                </div>
            </section>
            {% endif %}
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Entertaining English</h4>
                    <p>–ò–∑—É—á–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Å—Ç–∞–ª–æ –ø—Ä–æ—â–µ</p>
                </div>
                <div class="footer-section">
                    <h4>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤</h4>
                    <p>–†–∞—Å—à–∏—Ä—è–π—Ç–µ —Å–≤–æ–π —Å–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function toggleOptional() {
            const content = document.getElementById('optionalContent');
            const toggleIcon = document.querySelector('.toggle-icon');
            const toggleText = document.querySelector('.toggle-text');
            
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
                toggleIcon.textContent = 'üìñ';
                toggleText.textContent = '–°–∫—Ä—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è';
            } else {
                content.style.display = 'none';
                toggleIcon.textContent = 'üìñ';
                toggleText.textContent = '–ó–∞–ø–æ–ª–Ω—è–π—Ç–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –≤—Ä–µ–º—è';
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
        setTimeout(function() {
            const messages = document.querySelectorAll('.message');
            messages.forEach(function(message) {
                message.style.opacity = '0';
                setTimeout(() => message.remove(), 300);
            });
        }, 5000);
    </script>
</body>
</html>
